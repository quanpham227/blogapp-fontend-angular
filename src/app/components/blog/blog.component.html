<main id="main">
  <!-- ======= Blog Section ======= -->
  <section id="blog" class="blog">
    <div class="container" data-aos="fade-up">
      <div class="row g-5">
        <div class="col-lg-8" data-aos="fade-up" data-aos-delay="200">
          <div class="row gy-5 posts-list">
            <div class="col-lg-6" *ngFor="let post of posts">
              <article class="d-flex flex-column">
                <div class="post-img">
                  <img [src]="post.thumbnail_url" alt="" class="img-fluid" />
                </div>
                <h2 class="title">
                  <a>{{ post.title }}</a>
                </h2>
                <div class="meta-top">
                  <ul>
                    <li class="d-flex align-items-center">
                      <i class="bi bi-person"></i>
                      <a>John Doe</a>
                    </li>
                    <li class="d-flex align-items-center">
                      <i class="bi bi-clock"></i>
                      <a>
                        <time [attr.datetime]="post.created_at">{{
                          post.created_at | date: "MMM d, y"
                        }}</time>
                      </a>
                    </li>
                    <li class="d-flex align-items-center">
                      <i class="bi bi-chat-dots"></i>
                      <a href="">12 Comments</a>
                    </li>
                  </ul>
                </div>

                <div class="content">
                  <p>{{ post.excerpt }}</p>
                </div>

                <div class="read-more mt-auto align-self-end">
                  <a (click)="onPostClick(post.slug)"
                    >Read More <i class="bi bi-arrow-right"></i
                  ></a>
                </div>
              </article>
            </div>
            <!-- End post list item -->
          </div>
          <!-- End blog posts list -->
          <div class="blog-pagination d-flex justify-content-center">
            <nav aria-label="Page navigation">
              <ul class="pagination">
                <li class="page-item" *ngIf="currentPage > 1">
                  <a class="page-link" (click)="onPageChange(1)">First</a>
                </li>
                <li class="page-item" *ngIf="currentPage > 1">
                  <a class="page-link" (click)="onPageChange(currentPage - 1)"
                    >Previous</a
                  >
                </li>
                <ng-container *ngFor="let page of visiblePages">
                  <li
                    class="page-item"
                    [ngClass]="{ active: page === currentPage }"
                  >
                    <a class="page-link" (click)="onPageChange(page)">{{
                      page
                    }}</a>
                  </li>
                </ng-container>
                <li class="page-item" *ngIf="currentPage < totalPages">
                  <a class="page-link" (click)="onPageChange(currentPage + 1)"
                    >Next</a
                  >
                </li>
                <li class="page-item" *ngIf="currentPage < totalPages">
                  <a class="page-link" (click)="onPageChange(totalPages)"
                    >Last</a
                  >
                </li>
              </ul>
            </nav>
          </div>
          <!-- End blog pagination -->
        </div>
        <div class="col-lg-4" data-aos="fade-up" data-aos-delay="400">
          <div class="sidebar ps-lg-4">
            <div class="sidebar-item search-form">
              <h3 class="sidebar-title">Search</h3>
              <div class="row mt-3">
                <div class="col-md-9">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Search..."
                    [(ngModel)]="keyword"
                  />
                </div>
                <div class="col-md-3">
                  <button class="btn btn-primary" (click)="searchPosts()">
                    Search
                  </button>
                </div>
              </div>
            </div>
            <!-- End sidebar search formn-->

            <div class="sidebar-item categories">
              <h3 class="sidebar-title">Categories</h3>
              <ul class="mt-3">
                <li *ngFor="let category of categories">
                  <a (click)="onCategorySelect(category.id)">
                    {{ category.name }} <span>({{ category.postCount }})</span>
                  </a>
                </li>
              </ul>
            </div>
            <!-- End sidebar categories-->

            <div class="sidebar-item recent-posts">
              <h3 class="sidebar-title">Recent Posts</h3>

              <div class="mt-3">
                <div class="post-item mt-3" *ngFor="let post of recentPosts">
                  <img
                    [src]="post.thumbnail_url"
                    class="flex-shrink-0"
                    height="50px"
                  />
                  <div>
                    <p>
                      <a (click)="onPostClick(post.slug)">{{ post.title }}</a>
                    </p>
                    <time [attr.datetime]="post.created_at">
                      {{ post.created_at | date: "MMM d, y" }}
                    </time>
                  </div>
                </div>
                <!-- End recent post item-->
              </div>
            </div>
            <!-- End sidebar recent posts-->

            <div class="sidebar-item tags">
              <h3 class="sidebar-title">Tags</h3>
              <ul class="mt-3">
                <li><a href="#">App</a></li>
                <li><a href="#">IT</a></li>
                <li><a href="#">Business</a></li>
                <li><a href="#">Mac</a></li>
                <li><a href="#">Design</a></li>
                <li><a href="#">Office</a></li>
                <li><a href="#">Creative</a></li>
                <li><a href="#">Studio</a></li>
                <li><a href="#">Smart</a></li>
                <li><a href="#">Tips</a></li>
                <li><a href="#">Marketing</a></li>
              </ul>
            </div>
            <!-- End sidebar tags-->
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- End Blog Section -->
</main>
<!-- End #main -->
